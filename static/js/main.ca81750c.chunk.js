(this.webpackJsonpmyndaleit=this.webpackJsonpmyndaleit||[]).push([[0],{12:function(e,_,r){e.exports={main:"HomePage_main__1pPJ9",title:"HomePage_title__3BWD-",slidein:"HomePage_slidein__1_2-0",legend:"HomePage_legend__16t-A",error:"HomePage_error__R7Tmr"}},157:function(e,_,r){"use strict";r.r(_);var t,i=r(1),d=r.n(i),c=r(47),n=r.n(c),s=(r(57),r(3)),a=r(5),m=r(52),g=r.n(m),l=r(48),j=r.n(l),o=r(2),u=function(e){var _=e.handleSearch,r=e.query,t=Object(i.useRef)(null);return Object(i.useEffect)((function(){t.current&&t.current.focus()}),[t]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("input",{className:j.a.searchBar,ref:t,type:"text",value:r,placeholder:"Sl\xe1\xf0u inn leitaror\xf0",onChange:_,autoFocus:!0},"search")})},b=r(23),x=r.n(b),O=function(e){var _=e.item,r=e.reference;return r?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:x.a.card,children:Object(o.jsx)("a",{ref:r,href:_.image.contextLink,target:"_blank",rel:"noreferrer",children:Object(o.jsx)("img",{alt:_.title,src:_.link},_.displayLink)})})}):Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:x.a.card,children:Object(o.jsx)("a",{href:_.image.contextLink,target:"_blank",rel:"noreferrer",children:Object(o.jsx)("img",{alt:_.title,src:_.link},_.displayLink)})})})},h=r(8),I=r(9),f=r.n(I),G=r(49),p=r.n(G),y=function(e){var _,r=e.xs,t=e.sm,i=e.md,d=e.lg,c=e.spacing,n=e.children,s=p()((_={},Object(h.a)(_,f.a["grid_xs_".concat(r)],r),Object(h.a)(_,f.a["grid_xs_text_".concat(r)],r),Object(h.a)(_,f.a["grid_sm_".concat(t)],t),Object(h.a)(_,f.a["grid_sm_text_".concat(t)],t),Object(h.a)(_,f.a["grid_md_".concat(i)],i),Object(h.a)(_,f.a["grid_lg_".concat(d)],d),Object(h.a)(_,f.a["grid_spacing_".concat(c)],c),_));return Object(o.jsx)("div",{className:s,children:n})},v=r(50),k=r.n(v),S=function(e){var _=e.items,r=e.lastPicEl,t=e.children;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{children:t}),Object(o.jsx)("div",{className:k.a.container,children:null===_||void 0===_?void 0:_.map((function(e,t){return _.length===t+1?Object(o.jsx)(y,{xs:12,sm:6,md:4,lg:3,spacing:"md",children:Object(o.jsx)(O,{reference:r,item:e})},t):Object(o.jsx)(y,{xs:12,sm:6,md:4,lg:3,spacing:"md",children:Object(o.jsx)(O,{item:e},t)},t)}))})]})},F=r(51),P=r.n(F),A=function(){return Object(o.jsx)(P.a,{type:"bubbles",color:"rgba(242,95,47,1)",height:100,width:100})},N=r(24),T=r(17),C=r.n(T),E=function(e,_,r){var d=Object(i.useState)(!1),c=Object(a.a)(d,2),n=c[0],s=c[1],m=Object(i.useState)(!1),g=Object(a.a)(m,2),l=g[0],j=g[1],o=Object(i.useState)(""),u=Object(a.a)(o,2),b=u[0],x=u[1],O=Object(i.useState)([]),h=Object(a.a)(O,2),I=h[0],f=h[1],G=Object(i.useState)(!1),p=Object(a.a)(G,2),y=p[0],v=p[1];return t=r?"../../myndaleit/dataAccepted.json":"https://content.googleapis.com/customsearch/v1?cx=001361074102112665899%3Ap7mybnrloug",Object(i.useEffect)((function(){f([])}),[e]),Object(i.useEffect)((function(){j(!1);var r=function(){},i=10*(_-1)+1;return e?(s(!0),C()({method:"GET",url:t,params:{q:e,start:i,searchType:"image",key:"AIzaSyBnoIKNer0fsXS8i3-1SnAp73RB4FeKQHI"},cancelToken:new C.a.CancelToken((function(e){r=e}))}).then((function(e){f((function(_){var r,t;return[].concat(Object(N.a)(_),Object(N.a)(null===e||void 0===e||null===(r=e.data)||void 0===r||null===(t=r.items)||void 0===t?void 0:t.map((function(e){return e}))))})),v(e.data.items.length>0),s(!1)})).catch((function(e){C.a.isCancel(e)||(s(!1),j(!0),429===e.response.status?x("The API has closed for business today as for now it is limited to 100 requests per day. "):x(e.message))}))):s(!1),function(){return r()}}),[e,_]),{loading:n,error:l,errorMessage:b,items:I,hasMore:y}},B=r(12),H=r.n(B),w=r(11),M=function(e){var _=e.dummy,r=Object(i.useState)(""),t=Object(a.a)(r,2),d=t[0],c=t[1],n=Object(i.useState)(1),s=Object(a.a)(n,2),m=s[0],l=s[1],j=E(d,m,_),b=j.loading,x=j.error,O=j.errorMessage,h=j.items,I=j.hasMore,f=Object(i.useRef)(),G=Object(i.useCallback)((function(e){b||(f.current&&f.current.disconnect(),f.current=new IntersectionObserver((function(e){e[0].isIntersecting&&I&&l((function(e){return e+1}))})),e&&f.current.observe(e))}),[b,I]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:H.a.legend}),Object(o.jsxs)("main",{className:H.a.main,children:[Object(o.jsx)(y,{xs:4,spacing:"md",children:Object(o.jsx)("h1",{className:"".concat(H.a.title),children:"Myndaleit"})}),Object(o.jsxs)(S,{items:h,lastPicEl:G,children:[Object(o.jsxs)(y,{xs:12,spacing:"md",children:[Object(o.jsx)(u,{query:d,handleSearch:function(e){c(g.a.escape(e.currentTarget.value)),l(1)}}),Object(o.jsx)(o.Fragment,{children:x&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:H.a.error,children:O}),Object(o.jsx)(w.c,{onClick:function(){c("")},className:H.a.error,to:"/myndaleit/dummy",children:"Click here to cut out the middle man"})]})})]}),Object(o.jsx)(o.Fragment,{children:b&&Object(o.jsx)(A,{})})]})]})]})},q=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"404 - Fannst ekki!"}),Object(o.jsx)(w.b,{to:"/myndaleit",children:"Fara heim"})]})},L=function(){return Object(i.useEffect)((function(){!function(){var e=0;setInterval((function(){if(document)try{document.getElementById("icon").href="./favicon-".concat(e++%4+1,".png")}catch(_){}e>1e5&&(e=0)}),1e3)}()}),[]),Object(o.jsxs)(s.c,{children:[Object(o.jsx)(s.a,{path:"/",element:Object(o.jsx)(M,{dummy:!1})}),Object(o.jsx)(s.a,{path:"/dummy",element:Object(o.jsx)(M,{dummy:!0})}),Object(o.jsx)(s.a,{path:"/myndaleit",element:Object(o.jsx)(M,{dummy:!1})}),Object(o.jsx)(s.a,{path:"/myndaleit/dummy",element:Object(o.jsx)(M,{dummy:!0})}),Object(o.jsx)(s.a,{path:"*",element:Object(o.jsx)(q,{})})]})};n.a.render(Object(o.jsx)(d.a.StrictMode,{children:Object(o.jsx)(w.a,{children:Object(o.jsx)(L,{})})}),document.getElementById("root"))},23:function(e,_,r){e.exports={card:"PictureCard_card__XvoiF"}},48:function(e,_,r){e.exports={searchBar:"SearchBar_searchBar__33MOO"}},50:function(e,_,r){e.exports={container:"PictureGrid_container__20a0o"}},57:function(e,_,r){},9:function(e,_,r){e.exports={grid:"GridItem_grid__2pgkJ",grid_xs_1:"GridItem_grid_xs_1__2uflZ",grid_xs_2:"GridItem_grid_xs_2__TfLpI",grid_xs_3:"GridItem_grid_xs_3__3CdSF",grid_xs_4:"GridItem_grid_xs_4__331Fv",grid_xs_5:"GridItem_grid_xs_5__2p97P",grid_xs_6:"GridItem_grid_xs_6__1ArGq",grid_xs_7:"GridItem_grid_xs_7__3O3tj",grid_xs_8:"GridItem_grid_xs_8__3qYp7",grid_xs_9:"GridItem_grid_xs_9__28yWR",grid_xs_10:"GridItem_grid_xs_10__3i-Ky",grid_xs_11:"GridItem_grid_xs_11__2H8rP",grid_xs_12:"GridItem_grid_xs_12__IeUG_",grid_sm_1:"GridItem_grid_sm_1__3gxnG",grid_sm_2:"GridItem_grid_sm_2__3ITwT",grid_sm_3:"GridItem_grid_sm_3__1PrNm",grid_sm_4:"GridItem_grid_sm_4__38A90",grid_sm_5:"GridItem_grid_sm_5__3XkEr",grid_sm_6:"GridItem_grid_sm_6__3nCU0",grid_sm_7:"GridItem_grid_sm_7__1bAdk",grid_sm_8:"GridItem_grid_sm_8__OTYgl",grid_sm_9:"GridItem_grid_sm_9__3rOEX",grid_sm_10:"GridItem_grid_sm_10__242aI",grid_sm_11:"GridItem_grid_sm_11__1myaT",grid_sm_12:"GridItem_grid_sm_12__2-gHH",grid_md_1:"GridItem_grid_md_1__3N28b",grid_md_2:"GridItem_grid_md_2__3Scay",grid_md_3:"GridItem_grid_md_3__1oDSV",grid_md_4:"GridItem_grid_md_4__3oDdg",grid_md_5:"GridItem_grid_md_5__2QAy5",grid_md_6:"GridItem_grid_md_6__23PhT",grid_md_7:"GridItem_grid_md_7__1i4MN",grid_md_8:"GridItem_grid_md_8__BD7WQ",grid_md_9:"GridItem_grid_md_9__1P3Ze",grid_md_10:"GridItem_grid_md_10__3Ct9D",grid_md_11:"GridItem_grid_md_11__12xV-",grid_md_12:"GridItem_grid_md_12__3ocoi",grid_lg_1:"GridItem_grid_lg_1__2lT1o",grid_lg_2:"GridItem_grid_lg_2__3A4Gl",grid_lg_3:"GridItem_grid_lg_3__11vN7",grid_lg_4:"GridItem_grid_lg_4__1efAe",grid_lg_5:"GridItem_grid_lg_5__32SZI",grid_lg_6:"GridItem_grid_lg_6__AZXVK",grid_lg_7:"GridItem_grid_lg_7__2LFpn",grid_lg_8:"GridItem_grid_lg_8__pwvqV",grid_lg_9:"GridItem_grid_lg_9__3XLyc",grid_lg_10:"GridItem_grid_lg_10__37G_1",grid_lg_11:"GridItem_grid_lg_11__2ij1z",grid_lg_12:"GridItem_grid_lg_12__FYVix",grid_spacing_sm:"GridItem_grid_spacing_sm__HA3ep",grid_spacing_md:"GridItem_grid_spacing_md__3F3kk",grid_spacing_lg:"GridItem_grid_spacing_lg__3ClbA"}}},[[157,1,2]]]);
//# sourceMappingURL=main.ca81750c.chunk.js.map