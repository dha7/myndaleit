(this.webpackJsonpmyndaleit=this.webpackJsonpmyndaleit||[]).push([[0],{12:function(_,e,r){_.exports={main:"HomePage_main__1pPJ9",title:"HomePage_title__3BWD-",slidein:"HomePage_slidein__1_2-0",legend:"HomePage_legend__16t-A",error:"HomePage_error__R7Tmr"}},157:function(_,e,r){"use strict";r.r(e);var i,t=r(1),d=r.n(t),c=r(47),n=r.n(c),s=(r(57),r(3)),a=r(5),g=r(52),l=r.n(g),m=r(48),j=r.n(m),o=r(2),u=function(_){var e=_.handleSearch,r=_.query,i=Object(t.useRef)(null);return Object(t.useEffect)((function(){i.current&&i.current.focus()}),[i]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("input",{className:j.a.searchBar,ref:i,type:"text",value:r,placeholder:"Sl\xe1\xf0u inn leitaror\xf0",onChange:e,autoFocus:!0},"search")})},b=r(23),x=r.n(b),O=function(_){var e=_.item,r=_.reference;return r?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:x.a.card,children:Object(o.jsx)("a",{ref:r,href:e.image.contextLink,target:"_blank",rel:"noreferrer",children:Object(o.jsx)("img",{alt:e.title,src:e.link},e.displayLink)})})}):Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:x.a.card,children:Object(o.jsx)("a",{href:e.image.contextLink,target:"_blank",rel:"noreferrer",children:Object(o.jsx)("img",{alt:e.title,src:e.link},e.displayLink)})})})},h=r(8),f=r(9),G=r.n(f),p=r(49),y=r.n(p),v=function(_){var e,r=_.xs,i=_.sm,t=_.md,d=_.lg,c=_.spacing,n=_.children,s=y()((e={},Object(h.a)(e,G.a["grid_xs_".concat(r)],r),Object(h.a)(e,G.a["grid_xs_text_".concat(r)],r),Object(h.a)(e,G.a["grid_sm_".concat(i)],i),Object(h.a)(e,G.a["grid_sm_text_".concat(i)],i),Object(h.a)(e,G.a["grid_md_".concat(t)],t),Object(h.a)(e,G.a["grid_lg_".concat(d)],d),Object(h.a)(e,G.a["grid_spacing_".concat(c)],c),e));return Object(o.jsx)("div",{className:s,children:n})},k=r(50),S=r.n(k),F=function(_){var e=_.items,r=_.lastPicEl,i=_.children;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{children:i}),Object(o.jsx)("div",{className:S.a.container,children:null===e||void 0===e?void 0:e.map((function(_,i){return e.length===i+1?Object(o.jsx)(v,{xs:12,sm:6,md:4,lg:3,spacing:"md",children:Object(o.jsx)(O,{reference:r,item:_})},i):Object(o.jsx)(v,{xs:12,sm:6,md:4,lg:3,spacing:"md",children:Object(o.jsx)(O,{item:_},i)},i)}))})]})},P=r(51),B=r.n(P),E=function(){return Object(o.jsx)(B.a,{type:"bubbles",color:"rgba(242,95,47,1)",height:100,width:100})},M=r(24),N=r(17),C=r.n(N),I=function(_,e,r){var d=Object(t.useState)(!1),c=Object(a.a)(d,2),n=c[0],s=c[1],g=Object(t.useState)(!1),l=Object(a.a)(g,2),m=l[0],j=l[1],o=Object(t.useState)(""),u=Object(a.a)(o,2),b=u[0],x=u[1],O=Object(t.useState)([]),h=Object(a.a)(O,2),f=h[0],G=h[1],p=Object(t.useState)(!1),y=Object(a.a)(p,2),v=y[0],k=y[1];return i=r?"../../myndaleit/dataAccepted.json":"https://content.googleapis.com/customsearch/v1?cx=001361074102112665899%3Ap7mybnrloug",Object(t.useEffect)((function(){G([])}),[_]),Object(t.useEffect)((function(){j(!1);var r=function(){},t=10*(e-1)+1;return _?(s(!0),C()({method:"GET",url:i,params:{q:_,start:t,searchType:"image",key:"AIzaSyBnoIKNer0fsXS8i3-1SnAp73RB4FeKQHI"},cancelToken:new C.a.CancelToken((function(_){r=_}))}).then((function(_){G((function(e){var r,i;return[].concat(Object(M.a)(e),Object(M.a)(null===_||void 0===_||null===(r=_.data)||void 0===r||null===(i=r.items)||void 0===i?void 0:i.map((function(_){return _}))))})),k(_.data.items.length>0),s(!1)})).catch((function(_){C.a.isCancel(_)||(s(!1),j(!0),429===_.response.status?x("The API has closed for business today as it is limited to 100 requests per day. "):x(_.message))}))):s(!1),function(){return r()}}),[_,e]),{loading:n,error:m,errorMessage:b,items:f,hasMore:v}},K=r(12),A=r.n(K),T=r(11),z=function(_){var e=_.dummy,r=Object(t.useState)(""),i=Object(a.a)(r,2),d=i[0],c=i[1],n=Object(t.useState)(1),s=Object(a.a)(n,2),g=s[0],m=s[1],j=I(d,g,e),b=j.loading,x=j.error,O=j.errorMessage,h=j.items,f=j.hasMore,G=Object(t.useRef)(),p=Object(t.useCallback)((function(_){b||(G.current&&G.current.disconnect(),G.current=new IntersectionObserver((function(_){_[0].isIntersecting&&f&&m((function(_){return _+1}))})),_&&G.current.observe(_))}),[b,f]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:A.a.legend}),Object(o.jsxs)("main",{className:A.a.main,children:[Object(o.jsx)(v,{xs:4,spacing:"md",children:Object(o.jsx)("h1",{className:"".concat(A.a.title),children:"Myndaleit"})}),Object(o.jsxs)(F,{items:h,lastPicEl:p,children:[Object(o.jsxs)(v,{xs:12,spacing:"md",children:[Object(o.jsx)(u,{query:d,handleSearch:function(_){c(l.a.escape(_.currentTarget.value)),m(1)}}),Object(o.jsx)(o.Fragment,{children:x&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:A.a.error,children:O}),Object(o.jsx)(T.c,{onClick:function(){c("")},className:A.a.error,to:"/myndaleit/dummy",children:"Click here to cut out the middle man"})]})})]}),Object(o.jsx)(o.Fragment,{children:b&&Object(o.jsx)(E,{})})]})]})]})},H=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"404 - Fannst ekki!"}),Object(o.jsx)(T.b,{to:"/myndaleit",children:"Fara heim"})]})},J=function(){return Object(t.useEffect)((function(){!function(){var _=0;setInterval((function(){if(document)try{document.getElementById("icon").href="./favicon-".concat(_++%4+1,".png")}catch(e){}_>1e5&&(_=0)}),1e3)}()}),[]),Object(o.jsxs)(s.c,{children:[Object(o.jsx)(s.a,{path:"/",element:Object(o.jsx)(z,{dummy:!1})}),Object(o.jsx)(s.a,{path:"/dummy",element:Object(o.jsx)(z,{dummy:!0})}),Object(o.jsx)(s.a,{path:"/myndaleit",element:Object(o.jsx)(z,{dummy:!1})}),Object(o.jsx)(s.a,{path:"/myndaleit/dummy",element:Object(o.jsx)(z,{dummy:!0})}),Object(o.jsx)(s.a,{path:"*",element:Object(o.jsx)(H,{})})]})};n.a.render(Object(o.jsx)(d.a.StrictMode,{children:Object(o.jsx)(T.a,{children:Object(o.jsx)(J,{})})}),document.getElementById("root"))},23:function(_,e,r){_.exports={card:"PictureCard_card__XvoiF"}},48:function(_,e,r){_.exports={searchBar:"SearchBar_searchBar__33MOO"}},50:function(_,e,r){_.exports={container:"PictureGrid_container__20a0o"}},57:function(_,e,r){},9:function(_,e,r){_.exports={grid:"Grid_grid__3FBL3",grid_xs_1:"Grid_grid_xs_1__3B1hc",grid_xs_2:"Grid_grid_xs_2__2a85n",grid_xs_3:"Grid_grid_xs_3__3gm2D",grid_xs_4:"Grid_grid_xs_4__r30H9",grid_xs_5:"Grid_grid_xs_5__1tVrm",grid_xs_6:"Grid_grid_xs_6__3JsrB",grid_xs_7:"Grid_grid_xs_7__1Iktn",grid_xs_8:"Grid_grid_xs_8__lR0hl",grid_xs_9:"Grid_grid_xs_9__2FiCY",grid_xs_10:"Grid_grid_xs_10__1hWgZ",grid_xs_11:"Grid_grid_xs_11__TzV3Q",grid_xs_12:"Grid_grid_xs_12__PKW0X",grid_sm_1:"Grid_grid_sm_1__2lh2d",grid_sm_2:"Grid_grid_sm_2__3ghPk",grid_sm_3:"Grid_grid_sm_3__xgMaM",grid_sm_4:"Grid_grid_sm_4__3ulJA",grid_sm_5:"Grid_grid_sm_5__3DNeB",grid_sm_6:"Grid_grid_sm_6__ylSUz",grid_sm_7:"Grid_grid_sm_7__1ZwES",grid_sm_8:"Grid_grid_sm_8__3soZ4",grid_sm_9:"Grid_grid_sm_9__1PJJv",grid_sm_10:"Grid_grid_sm_10__pnlzz",grid_sm_11:"Grid_grid_sm_11__3oyuM",grid_sm_12:"Grid_grid_sm_12__3S7So",grid_md_1:"Grid_grid_md_1__3Kz1C",grid_md_2:"Grid_grid_md_2__10Vxy",grid_md_3:"Grid_grid_md_3__2MLIK",grid_md_4:"Grid_grid_md_4__d6cry",grid_md_5:"Grid_grid_md_5__1rlxO",grid_md_6:"Grid_grid_md_6__2AfF-",grid_md_7:"Grid_grid_md_7__2KvTM",grid_md_8:"Grid_grid_md_8__k4Zmz",grid_md_9:"Grid_grid_md_9__11xD2",grid_md_10:"Grid_grid_md_10__dWlaP",grid_md_11:"Grid_grid_md_11__2vfq4",grid_md_12:"Grid_grid_md_12__2reja",grid_lg_1:"Grid_grid_lg_1__2SAYG",grid_lg_2:"Grid_grid_lg_2__2DKDt",grid_lg_3:"Grid_grid_lg_3__2zCk1",grid_lg_4:"Grid_grid_lg_4__3d3gp",grid_lg_5:"Grid_grid_lg_5__7KyVY",grid_lg_6:"Grid_grid_lg_6__2ibE2",grid_lg_7:"Grid_grid_lg_7__2fta6",grid_lg_8:"Grid_grid_lg_8__3e_sV",grid_lg_9:"Grid_grid_lg_9__2sFXF",grid_lg_10:"Grid_grid_lg_10__13F1R",grid_lg_11:"Grid_grid_lg_11__3laGE",grid_lg_12:"Grid_grid_lg_12__2Ma7n",grid_spacing_sm:"Grid_grid_spacing_sm__1dW0C",grid_spacing_md:"Grid_grid_spacing_md__1vbKK",grid_spacing_lg:"Grid_grid_spacing_lg__2EuyV"}}},[[157,1,2]]]);
//# sourceMappingURL=main.901edfff.chunk.js.map